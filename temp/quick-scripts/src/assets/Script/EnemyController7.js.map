{"version":3,"sources":["assets\\Script\\EnemyController7.ts"],"names":[],"mappings":";;;;;AAAA,oBAAoB;AACpB,wEAAwE;AACxE,mBAAmB;AACnB,kFAAkF;AAClF,8BAA8B;AAC9B,kFAAkF;;;;;;;;;;;;;;;;;;;;;AAE5E,IAAA,kBAAmC,EAAlC,oBAAO,EAAE,sBAAyB,CAAC;AAG1C;IAA8C,oCAAY;IAD1D;QAAA,qEA8DC;QAzDG,YAAM,GAAc,IAAI,CAAC;QAEzB,UAAI,GAAG,IAAI,CAAC;QACZ,mBAAa,GAAW,CAAC,CAAC;QAC1B,cAAQ,GAAG,EAAE,CAAC;;IAqDlB,CAAC;IAnDG,wBAAwB;IAExB,iCAAM,GAAN;QAEI,sDAAsD;QACtD,IAAI,OAAO,GAAG,EAAE,CAAC,QAAQ,CAAC,mBAAmB,EAAE,CAAC;QAChD,OAAO,CAAC,OAAO,GAAG,IAAI,CAAC;QAEvB,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,UAAU,EAAE,CAAC,EAAE,EAAE,CAAC,KAAK,CAAC,cAAc,EAAE,CAAC,CAAC,CAAC;IAClE,CAAC;IAED,2CAAgB,GAAhB,UAAiB,KAAK,EAAE,IAAI;QAA5B,iBAmBC;QAjBG,IAAI,YAAY,GAAG,IAAI,CAAC,IAAI,CAAC,OAAO,CAAA;QACpC,IAAI,IAAI,CAAC,QAAQ,IAAI,CAAC,EACtB;YACI,IAAI,CAAC,QAAQ,IAAI,CAAC,CAAC;YACnB,YAAY,IAAI,CAAC,CAAC;SACrB;QACD,OAAO;QACP,gFAAgF;QAEhF,EAAE,CAAC,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,EAAE,CAAC,GAAG,EAAE,CAAC,EAAC,OAAO,EAAG,YAAY,EAAC,CAAC,CAAC,CAAC,IAAI,CAAC;YACzD,IAAI,KAAI,CAAC,QAAQ,IAAI,CAAC,EACtB;gBACI,KAAI,CAAC,IAAI,CAAC,OAAO,EAAE,CAAC;gBACpB,KAAI,CAAC,IAAI,CAAC,SAAS,CAAC,EAAE,CAAC,CAAC;aAC3B;QACL,CAAC,CAAC,CAAC,KAAK,EAAE,CAAC;IAEf,CAAC;IAED,qCAAU,GAAV;QAEI,IAAI,QAAQ,GAAG,EAAE,CAAC,WAAW,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;QAC3C,QAAQ,CAAC,MAAM,GAAG,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC;QACnC,QAAQ,CAAC,WAAW,CAAC,IAAI,CAAC,IAAI,CAAC,WAAW,EAAE,CAAC,CAAC;IAClD,CAAC;IAED,gCAAK,GAAL;IAGA,CAAC;IAED,iCAAM,GAAN,UAAQ,EAAE;QAEN,gCAAgC;QAChC,IAAI,CAAC,IAAI,CAAC,CAAC,IAAI,EAAE,GAAG,IAAI,CAAC,MAAM,EAAE,GAAG,IAAI,CAAC,aAAa,CAAC;QACvD,IAAI,CAAC,IAAI,CAAC,CAAC,IAAI,EAAE,GAAE,GAAG,GAAE,CAAC,IAAI,CAAC,aAAa,GAAC,GAAG,CAAC,CAAC;QACjD,IAAI,CAAC,IAAI,CAAC,KAAK,IAAI,EAAE,GAAG,IAAI,CAAC,aAAa,GAAG,GAAG,CAAC;IACrD,CAAC;IAxDD;QADC,QAAQ,CAAC,EAAE,CAAC,MAAM,CAAC;oDACK;IAJR,gBAAgB;QADpC,OAAO;OACa,gBAAgB,CA6DpC;IAAD,uBAAC;CA7DD,AA6DC,CA7D6C,EAAE,CAAC,SAAS,GA6DzD;kBA7DoB,gBAAgB","file":"","sourceRoot":"/","sourcesContent":["// Learn TypeScript:\r\n//  - https://docs.cocos.com/creator/manual/en/scripting/typescript.html\r\n// Learn Attribute:\r\n//  - https://docs.cocos.com/creator/manual/en/scripting/reference/attributes.html\r\n// Learn life-cycle callbacks:\r\n//  - https://docs.cocos.com/creator/manual/en/scripting/life-cycle-callbacks.html\r\n\r\nconst {ccclass, property} = cc._decorator;\r\n\r\n@ccclass\r\nexport default class EnemyController1 extends cc.Component \r\n{\r\n\r\n    @property(cc.Prefab)\r\n    enemy6: cc.Prefab = null;\r\n\r\n    game = null;\r\n    deltaRotation: number = 0;\r\n    strength = 50;\r\n\r\n    // LIFE-CYCLE CALLBACKS:\r\n\r\n    onLoad () \r\n    {\r\n        //this.game = this.node.parent.getComponent('player');\r\n        let manager = cc.director.getCollisionManager();\r\n        manager.enabled = true;\r\n\r\n        this.schedule(this.fireEnemy1, 1, cc.macro.REPEAT_FOREVER, 0);\r\n    }\r\n\r\n    onCollisionEnter(other, self) \r\n    {\r\n        let enemyOpacity = this.node.opacity\r\n        if (this.strength != 0)\r\n        {\r\n            this.strength -= 1; \r\n            enemyOpacity -= 5;\r\n        }\r\n        // else\r\n        //     cc.tween(this.node.getChildByName(\"score\")).to(0.1, ({scale:1})).start();\r\n\r\n        cc.tween(this.node).to(0.3, ({opacity : enemyOpacity})).call(()=>{\r\n            if (this.strength == 0)\r\n            {\r\n                this.node.destroy();\r\n                this.game.gainScore(50);\r\n            }\r\n        }).start();\r\n\r\n    }\r\n\r\n    fireEnemy1()\r\n    {\r\n        let newEnemy = cc.instantiate(this.enemy6);\r\n        newEnemy.parent = this.node.parent;\r\n        newEnemy.setPosition(this.node.getPosition());\r\n    }\r\n\r\n    start () \r\n    {\r\n\r\n    }\r\n\r\n    update (dt) \r\n    {\r\n        // move down and rotate positive\r\n        this.node.y -= dt * Math.random() * this.deltaRotation;\r\n        this.node.x += dt *500* (this.deltaRotation-0.5);\r\n        this.node.angle += dt * this.deltaRotation * 500;\r\n    }\r\n}\r\n"]}