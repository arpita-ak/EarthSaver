window.__require=function e(t,o,n){function r(c,a){if(!o[c]){if(!t[c]){var s=c.split("/");if(s=s[s.length-1],!t[s]){var l="function"==typeof __require&&__require;if(!a&&l)return l(s,!0);if(i)return i(s,!0);throw new Error("Cannot find module '"+c+"'")}c=s}var p=o[c]={exports:{}};t[c][0].call(p.exports,function(e){return r(t[c][1][e]||e)},p,p.exports,e,t,o,n)}return o[c].exports}for(var i="function"==typeof __require&&__require,c=0;c<n.length;c++)r(n[c]);return r}({EnemyController1:[function(e,t,o){"use strict";cc._RF.push(t,"95ffenyuj5EFbu7xf4VeGFw","EnemyController1");var n=this&&this.__extends||function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(e,t,o,n){var r,i=arguments.length,c=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(c=(i<3?r(c):i>3?r(t,o,c):r(t,o))||c);return i>3&&c&&Object.defineProperty(t,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var i=cc._decorator,c=i.ccclass,a=(i.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.game=null,t.deltaRotation=0,t}return n(t,e),t.prototype.onLoad=function(){cc.director.getCollisionManager().enabled=!0},t.prototype.onCollisionEnter=function(e,t){var o=this;cc.tween(this.node).to(.2,{scale:0}).call(function(){o.node.destroy()}).start(),this.game.gainScore()},t.prototype.start=function(){},t.prototype.update=function(e){this.node.y-=e*Math.random()*500*this.deltaRotation,this.node.angle+=e*this.deltaRotation*500},t=r([c],t)}(cc.Component));o.default=a,cc._RF.pop()},{}],LifeLineManager:[function(e,t,o){"use strict";cc._RF.push(t,"a781eVrpDVHU5GAeBdPgI24","LifeLineManager");var n=this&&this.__extends||function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(e,t,o,n){var r,i=arguments.length,c=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(c=(i<3?r(c):i>3?r(t,o,c):r(t,o))||c);return i>3&&c&&Object.defineProperty(t,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var i=cc._decorator,c=i.ccclass,a=i.property,s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.CurrentLifelines=0,t.playerIconPrefab=null,t}return n(t,e),t.prototype.onLoad=function(){this.CurrentLifelines=3;for(var e=0;e<this.CurrentLifelines;e++){var t=cc.instantiate(this.playerIconPrefab);this.node.addChild(t)}},t.prototype.start=function(){},t.prototype.restart=function(){if(0==this.CurrentLifelines){this.CurrentLifelines=3;for(var e=0;e<this.CurrentLifelines;e++){var t=cc.instantiate(this.playerIconPrefab);this.node.addChild(t)}}},t.prototype.DecreaseLifeLine=function(){0!=this.CurrentLifelines&&(this.CurrentLifelines-=1,this.node.children[0].destroy(),this.node.getComponent(cc.Layout).updateLayout())},r([a(cc.Prefab)],t.prototype,"playerIconPrefab",void 0),t=r([c],t)}(cc.Component);o.default=s,cc._RF.pop()},{}],MainScript:[function(e,t,o){"use strict";cc._RF.push(t,"584aeON8yBKVoOleimUpAHm","MainScript");var n=this&&this.__extends||function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(e,t,o,n){var r,i=arguments.length,c=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(c=(i<3?r(c):i>3?r(t,o,c):r(t,o))||c);return i>3&&c&&Object.defineProperty(t,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var i=e("./LifeLineManager"),c=e("./PlayerController"),a=cc._decorator,s=a.ccclass,l=a.property,p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.startScreen=null,t.restartScreen=null,t.EnemyPrefab=null,t.playerPrefab=null,t.scoreDisplay=null,t.highscoreDisplay=null,t.lifeLineManager=null,t.Music=null,t.bgmAudio=null,t.clickAudio=null,t.score=0,t.highScore=0,t}return n(t,e),t.prototype.onLoad=function(){this.score=0,this.highScore=0,this.scoreDisplay.string="0",this.startScreen.active=!0},t.prototype.OnStartClick=function(){this.startScreen.active=!1,this.restartScreen.active=!1,this.lifeLineManager.restart(),this.score>this.highScore&&(this.highScore=this.score),this.score=0,this.scoreDisplay.string=this.score.toString(),this.highscoreDisplay.string=this.highScore.toString();var e=cc.instantiate(this.playerPrefab);this.node.getChildByName("player").addChild(e);var t=e.getComponent(c.PlayerController);t.weaponParent=this.node.getChildByName("weapon"),t.game=this,this.schedule(this.spawnNewRound,.5,cc.macro.REPEAT_FOREVER,0),cc.audioEngine.playMusic(this.bgmAudio,!0),cc.audioEngine.playEffect(this.clickAudio,!1),this.onVolumeToggleClicked()},t.prototype.spawnNewRound=function(){var e=cc.instantiate(this.EnemyPrefab);this.node.getChildByName("enemies").addChild(e),e.setPosition(this.getNewEnemyPosition());var t=e.getComponent("EnemyController1");t.game=this,t.deltaRotation=Math.random()},t.prototype.gainScore=function(){this.score+=1,this.scoreDisplay.string=this.score.toString(),this.restartScreen.getChildByName("Score_value").getComponent(cc.Label).string=this.score.toString()},t.prototype.getNewEnemyPosition=function(){var e=Math.random()*Math.random()*2*(this.node.width/2-20)-250,t=Math.random()*Math.random()*5*(this.node.height/2-200)+200;return cc.v2(e,t)},t.prototype.OnPlayerDead=function(){if(this.lifeLineManager.DecreaseLifeLine(),0==this.lifeLineManager.CurrentLifelines)this.unschedule(this.spawnNewRound),this.node.getChildByName("enemies").destroyAllChildren(),this.node.getChildByName("player").destroyAllChildren(),this.restartScreen.active=!0,this.restartScreen.getChildByName("Score_value").getComponent(cc.Label).string=this.score.toString(),this.restartScreen.getChildByName("highScore_value").getComponent(cc.Label).string=this.highScore.toString(),cc.audioEngine.stopMusic();else{var e=cc.instantiate(this.playerPrefab);this.node.getChildByName("player").addChild(e);var t=e.getComponent(c.PlayerController);t.weaponParent=this.node.getChildByName("weapon"),t.game=this}},t.prototype.start=function(){},t.prototype.update=function(e){},t.prototype.onVolumeToggleClicked=function(){this.Music.isChecked?(cc.audioEngine.setEffectsVolume(0),cc.audioEngine.setMusicVolume(0)):(cc.audioEngine.setEffectsVolume(.1),cc.audioEngine.setMusicVolume(1))},r([l(cc.Node)],t.prototype,"startScreen",void 0),r([l(cc.Node)],t.prototype,"restartScreen",void 0),r([l(cc.Prefab)],t.prototype,"EnemyPrefab",void 0),r([l(cc.Prefab)],t.prototype,"playerPrefab",void 0),r([l(cc.Label)],t.prototype,"scoreDisplay",void 0),r([l(cc.Label)],t.prototype,"highscoreDisplay",void 0),r([l(i.default)],t.prototype,"lifeLineManager",void 0),r([l(cc.Toggle)],t.prototype,"Music",void 0),r([l({type:cc.AudioClip})],t.prototype,"bgmAudio",void 0),r([l({type:cc.AudioClip})],t.prototype,"clickAudio",void 0),t=r([s],t)}(cc.Component);o.default=p,cc._RF.pop()},{"./LifeLineManager":"LifeLineManager","./PlayerController":"PlayerController"}],PlayerController:[function(e,t,o){"use strict";cc._RF.push(t,"642f1FsENhO2LgrtPI/r87f","PlayerController");var n=this&&this.__extends||function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(e,t,o,n){var r,i=arguments.length,c=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(c=(i<3?r(c):i>3?r(t,o,c):r(t,o))||c);return i>3&&c&&Object.defineProperty(t,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var i=cc._decorator,c=i.ccclass,a=i.property,s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.game=null,t.weaponParent=null,t.weapon1=null,t.shootAudio=null,t.playerDeadAudio=null,t.offsetPos=cc.v3(0,0,0),t.delta=0,t}return n(t,e),t.prototype.onLoad=function(){var e=this;this.EnableCollisionManager(!1,!0),cc.tween(this.node).sequence(cc.tween(this.node).to(.5,{opacity:0}),cc.tween(this.node).to(.5,{opacity:255})).repeat(3).start(),this.scheduleOnce(function(){e.EnableCollisionManager(!0,!1)},4),this.node.on(cc.Node.EventType.TOUCH_START,this.OnTouchStart,this),this.node.on(cc.Node.EventType.TOUCH_MOVE,this.OnTouchMove,this),this.node.on(cc.Node.EventType.TOUCH_END,this.OnTouchEnd,this),this.node.on(cc.Node.EventType.TOUCH_CANCEL,this.OnTouchEnd,this)},t.prototype.EnableCollisionManager=function(e,t){this.node.getComponent(cc.BoxCollider).enabled=e,this.node.children[0].active=t},t.prototype.OnTouchStart=function(e){this.delta=0},t.prototype.OnTouchMove=function(e){this.delta=e.getDelta().x,this.node.position=new cc.Vec3(e.getDelta().x+this.node.position.x,this.node.position.y,0)},t.prototype.OnTouchEnd=function(e){0==this.delta&&this.bulletfire()},t.prototype.bulletfire=function(){var e=cc.instantiate(this.weapon1);this.weaponParent.addChild(e);var t=cc.v3(0,0,0),o=cc.v3(0,0,0);this.node.convertToWorldSpaceAR(cc.v3(0,0,0),t),this.weaponParent.convertToNodeSpaceAR(t,o),e.setPosition(o),e.angle=0,cc.audioEngine.playEffect(this.shootAudio,!1)},t.prototype.onCollisionEnter=function(e,t){var o=this;this.EnableCollisionManager(!1,!1),cc.tween(this.node).to(.2,{scale:0}).call(function(){o.node.destroy(),o.game.OnPlayerDead()}).start(),console.log("Player is dead"),cc.audioEngine.playEffect(this.playerDeadAudio,!1)},t.prototype.start=function(){},t.prototype.update=function(e){},r([a(cc.Prefab)],t.prototype,"weapon1",void 0),r([a({type:cc.AudioClip})],t.prototype,"shootAudio",void 0),r([a({type:cc.AudioClip})],t.prototype,"playerDeadAudio",void 0),t=r([c],t)}(cc.Component);o.PlayerController=s,cc._RF.pop()},{}],WeaponController1:[function(e,t,o){"use strict";cc._RF.push(t,"4e2e1Nj6qJA1objbiX+wEo7","WeaponController1");var n=this&&this.__extends||function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(e,t,o,n){var r,i=arguments.length,c=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(c=(i<3?r(c):i>3?r(t,o,c):r(t,o))||c);return i>3&&c&&Object.defineProperty(t,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var i=cc._decorator,c=i.ccclass,a=(i.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.onLoad=function(){cc.director.getCollisionManager().enabled=!0},t.prototype.onCollisionEnter=function(e,t){this.node.destroy()},t.prototype.start=function(){},t.prototype.update=function(e){this.node.y+=500*e},t=r([c],t)}(cc.Component));o.default=a,cc._RF.pop()},{}]},{},["EnemyController1","LifeLineManager","MainScript","PlayerController","WeaponController1"]);